[project]
name = "toop_engine_importer"
dynamic = ["version", "dependencies"]
description = "Gridmodel importer"
authors = [
    {name = "Nico Westerbeck", email = "Nico.Westerbeck@50hertz.com"},
    {name = "Benjamin Petrick", email = "Benjamin.Petrick@externel.be"},
    {name = "Leonard Hilfrich", email = "Leonard.Hilfrich@50hertz.com"}
]
readme = "README.md"

keywords = [
    "CGMES",
    "UCTE",
    "grid model import",
    "grid analysis",
    "grid topology"
]
classifiers=[
        'Development Status :: 4 - Beta',
        'Environment :: Console',
        'Intended Audience :: Developers',
        'Intended Audience :: Education',
        'Intended Audience :: Science/Research',
        'License :: OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)',
        'Natural Language :: English',
        'Operating System :: OS Independent',
        'Programming Language :: Python',
        'Programming Language :: Python :: 3.11'
]

requires-python = ">=3.11,<3.12"

[tool.hatch.metadata.hooks.uv-dynamic-versioning]
dependencies = [
    "pandapower (>=3.0.0,<4.0.0)",
    "numba (>=0.58.1)",
    "sqlalchemy (>=1.4.17)",
    "openpyxl (>=3.1.2,<4.0.0)",
    "plotly (>=3.0.0,<6.0.0)",
    "pypowsybl (>=1.12.0)",
    "nbformat (>=5.10.4,<6.0.0)",
    "pydantic (>=2.8.2,<3.0.0)",
    "tyro (>=0.8.6,<0.9.0)",
    "pypowsybl-jupyter",
    "pandera",
    "beartype (>=0.22.0,<0.23.0)",
    "logbook (>=1.8.1,<2.0.0)",
    "confluent-kafka (>=2.10.0,<3.0.0)",
    "toop_engine_interfaces=={{ version }}",
    "toop_engine_grid_helpers=={{ version }}",
    "toop_engine_contingency_analysis=={{ version }}",
    "toop_engine_dc_solver=={{ version }}",
]

[build-system]
requires = ["hatchling", "uv-dynamic-versioning"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "uv-dynamic-versioning"

[dependency-groups]
dev = [
    "pep8-naming",
    "pre-commit",
    "pre-commit-hooks",
    "pytest",
    "pytest-cov",
    "pytest-dotenv",
    "pytest-mock",
    "pytest-timeout",
    "pytest-xdist>=3.8.0",
    "ipykernel>=6.25.2",
    "jupyter>=1.0.0",
    "seaborn>=0.13.0",
    "plotly>=3.0.0",
    "openpyxl>=3.1.2",
    "ruff",
    "types-confluent-kafka>=1.3.3",
    "pytest-logbook>=1.2.0",
    "pypowsybl-jupyter>=1.0.0",
    "docker>=7.1.0",
]

[tool.uv.sources]
toop_engine_interfaces = { path = "../interfaces_pkg", editable = true }
toop_engine_grid_helpers = { path = "../grid_helpers_pkg", editable = true }
toop_engine_contingency_analysis = { path = "../contingency_analysis_pkg", editable = true }
toop_engine_dc_solver = { path = "../dc_solver_pkg", editable = true }

[[tool.uv.index]]
name = "MCCS"
url = "***REMOVED***"
publish-url = "***REMOVED***"
explicit = true

[tool.uv-secure.ignore_packages]
ray = [] # Ignore issues with all versions of the ray package
